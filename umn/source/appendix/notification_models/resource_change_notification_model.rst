:original_name: rms_06_0301.html

.. _rms_06_0301:

Resource Change Notification Model
==================================


Resource Change Notification Model
----------------------------------

.. table:: **Table 1** Parameters of the resource change notification model

   +----------------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------+
   | Parameter                  | Type                  | Description                                                                                                     |
   +============================+=======================+=================================================================================================================+
   | notification_type          | String                | The type of the notification. For a resource change notification, the notification type is **ResourceChanged**. |
   +----------------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------+
   | notification_creation_time | String                | The time when the message was sent.                                                                             |
   |                            |                       |                                                                                                                 |
   |                            |                       | The notification creation time is a UTC time (such as 2018-11-14T08:59:14Z) that complies with ISO8601.         |
   +----------------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------+
   | domain_id                  | String                | Account ID.                                                                                                     |
   +----------------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------+
   | detail                     | Object                | Notification details.                                                                                           |
   +----------------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------+

.. table:: **Table 2** **detail** parameters

   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                     |
   +=======================+=======================+=================================================================================================+
   | resource_id           | String                | Resource ID.                                                                                    |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------+
   | resource_type         | String                | Resource type.                                                                                  |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------+
   | event_type            | Enum                  | Event type (**CREATE**, **UPDATE**, **DELETE**)                                                 |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------+
   | capture_time          | String                | The event capture time.                                                                         |
   |                       |                       |                                                                                                 |
   |                       |                       | The event capture time is a UTC time (such as 2018-11-14T08:59:14Z) that complies with ISO8601. |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------+
   | resource              | Object                | Resource details.                                                                               |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------+

.. table:: **Table 3** resource

   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                         |
   +=======================+=======================+=====================================================================================================+
   | id                    | String                | Resource ID.                                                                                        |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------+
   | name                  | String                | Resource name.                                                                                      |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------+
   | provider              | String                | Cloud service name.                                                                                 |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------+
   | type                  | String                | Resource type.                                                                                      |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------+
   | region_id             | String                | The ID of the region where the resource resides.                                                    |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------+
   | project_id            | String                | IAM project ID.                                                                                     |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------+
   | project_name          | String                | IAM project name.                                                                                   |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------+
   | ep_id                 | String                | Enterprise project ID.                                                                              |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------+
   | ep_name               | String                | Enterprise project name.                                                                            |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------+
   | checksum              | String                | The checksum.                                                                                       |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------+
   | created               | String                | Resource creation time.                                                                             |
   |                       |                       |                                                                                                     |
   |                       |                       | The resource creation time is a UTC time (such as 2018-11-14T08:59:14Z) that complies with ISO8601. |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------+
   | updated               | String                | The time when the resource was last updated.                                                        |
   |                       |                       |                                                                                                     |
   |                       |                       | The latest update time is a UTC time (such as 2018-11-14T08:59:14Z) that complies with ISO8601.     |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------+
   | provisioning_state    | String                | Resource provisioning state.                                                                        |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------+
   | tags                  | Map                   | Resource tags.                                                                                      |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------+
   | properties            | Map                   | Resource attributes.                                                                                |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------+

Notification Example of Resource Changes
----------------------------------------

.. code-block::

   {
     "detail": {
       "resource": {
         "id": "3e62c0e6-e779-469e-b0f2-35743f6229d1",
         "name": "ecs-51c8",
         "provider": "evs",
         "type": "volumes",
         "checksum": "b3bcc019cecbb701e324e0dcf2f283236685885236b49f5ba5ea2f5f788170a1",
         "created": "2020-08-12T07:14:41.638Z",
         "updated": "2020-08-12T07:14:44.423Z",
         "tags": {},
         "properties": {
           "shareable": false,
           "volumeType": "SATA",
           "metadata": {},
           "attachments": [],
           "replicationStatus": "disabled",
           "availabilityZone": "eu-de",
           "bootable": "true",
           "userId": "059b5c937d80d3e41ff3c00a3c883d16",
           "volTenantAttrTenantId": "059b5e0a2500d5552fa1c00adada8c06",
           "size": "40",
           "encrypted": false,
           "volumeImageMetadata": {
             "virtualEnvType": "FusionCompute",
             "isregistered": "true",
             "imageSourceType": "uds",
             "minDisk": "40",
             "platform": "CentOS",
             "size": 0,
             "osVersion": "CentOS 7.5 64bit",
             "minRam": "0",
             "name": "CentOS 7.5 64bit",
             "checksum": "d41d8cd98f00b204e9800998ecf8427e",
             "osBit": "64",
             "osType": "Linux",
             "containerFormat": "bare",
             "supportXen": "true",
             "id": "e0adce3a-a4d2-4207-9018-69ce64b4426a",
             "supportKvm": "true",
             "diskFormat": "zvhd2",
             "imageType": "gold"
           },
           "links": [
             {
               "rel": "self",
               "href": "https://evs.eu-de.xxxxxx.com/v2/059b5e0a2500d5552fa1c00adada8c06/os-vendor-volumes/3e62c0e6-e779-469e-b0f2-35743f6229d1"
             },
             {
               "rel": "bookmark",
               "href": "https://evs.eu-de.xxxxxx.com/059b5e0a2500d5552fa1c00adada8c06/os-vendor-volumes/3e62c0e6-e779-469e-b0f2-35743f6229d1"
             }
           ],
           "volHostAttrHost": "eu-de-pod01.eu-de#0",
           "multiattach": false,
           "status": "available"
         },
         "region_id": "eu-de",
         "project_id": "059b5e0a2500d5552fa1c00adada8c06",
         "project_name": "eu-de",
         "ep_id": "0",
         "ep_name": "default",
         "provisioning_state": "Succeeded"
       },
       "resource_id": "3e62c0e6-e779-469e-b0f2-35743f6229d1",
       "resource_type": "evs.volumes",
       "event_type": "CREATE",
       "capture_time": "2020-08-12T07:15:15.116Z"
     },
     "notification_type": "ResourceChanged",
     "notification_creation_time": "2020-08-12T07:14:47.192Z",
     "domain_id": "059b5c937100d3e40ff0c00a7675a0a0"
   }
