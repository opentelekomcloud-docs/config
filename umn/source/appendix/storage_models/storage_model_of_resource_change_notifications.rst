:original_name: rms_06_0600.html

.. _rms_06_0600:

Storage Model of Resource Change Notifications
==============================================


Storage Model of Resource Change Notifications
----------------------------------------------

.. table:: **Table 1** Storage model of resource change notifications

   ================== =============== ==============================
   Parameter          Type            Description
   ================== =============== ==============================
   notification_items Array of Object Resource change notifications.
   ================== =============== ==============================

.. table:: **Table 2** **notification_items** parameters

   +----------------------------+-----------------------+--------------------------------------------------------------------------------------------------------+
   | Parameter                  | Parameter Type        | Description                                                                                            |
   +============================+=======================+========================================================================================================+
   | notification_type          | String                | Notification type. For a resource change notification, the notification type is **ResourceChanged**.   |
   +----------------------------+-----------------------+--------------------------------------------------------------------------------------------------------+
   | notification_creation_time | String                | Notification sending time                                                                              |
   |                            |                       |                                                                                                        |
   |                            |                       | The notification sending time is a UTC time (such as 2018-11-14T08:59:14Z) that complies with ISO8601. |
   +----------------------------+-----------------------+--------------------------------------------------------------------------------------------------------+
   | domain_id                  | String                | Account ID.                                                                                            |
   +----------------------------+-----------------------+--------------------------------------------------------------------------------------------------------+
   | detail                     | Object                | Notification details.                                                                                  |
   +----------------------------+-----------------------+--------------------------------------------------------------------------------------------------------+

.. table:: **Table 3** **detail** parameters

   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------+
   | Parameter             | Parameter Type        | Description                                                                                     |
   +=======================+=======================+=================================================================================================+
   | resource_id           | String                | Resource ID.                                                                                    |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------+
   | resource_type         | String                | Resource type.                                                                                  |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------+
   | event_type            | Enum                  | Event type (**CREATE**, **UPDATE**, **DELETE**)                                                 |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------+
   | capture_time          | String                | Event capture time.                                                                             |
   |                       |                       |                                                                                                 |
   |                       |                       | The event capture time is a UTC time (such as 2018-11-14T08:59:14Z) that complies with ISO8601. |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------+
   | resource              | Object                | Resource details.                                                                               |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------+

.. table:: **Table 4** resource

   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                         |
   +=======================+=======================+=====================================================================================================+
   | id                    | String                | Resource ID.                                                                                        |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------+
   | name                  | String                | Resource name.                                                                                      |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------+
   | provider              | String                | Service name.                                                                                       |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------+
   | type                  | String                | Resource type.                                                                                      |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------+
   | region_id             | String                | The ID of the region where the resource resides.                                                    |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------+
   | project_id            | String                | IAM project ID.                                                                                     |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------+
   | project_name          | String                | IAM project name.                                                                                   |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------+
   | ep_id                 | String                | Enterprise project ID.                                                                              |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------+
   | ep_name               | String                | Enterprise project name.                                                                            |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------+
   | checksum              | String                | The checksum.                                                                                       |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------+
   | created               | String                | Resource creation time.                                                                             |
   |                       |                       |                                                                                                     |
   |                       |                       | The resource creation time is a UTC time (such as 2018-11-14T08:59:14Z) that complies with ISO8601. |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------+
   | updated               | String                | The time when the resource was last updated.                                                        |
   |                       |                       |                                                                                                     |
   |                       |                       | The resource update time is a UTC time (such as 2018-11-14T08:59:14Z) that complies with ISO8601.   |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------+
   | provisioning_state    | String                | Resource state.                                                                                     |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------+
   | tags                  | Map                   | Resource tags.                                                                                      |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------+
   | properties            | Map                   | Resource attributes.                                                                                |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------+

Example of Resource Change Notification Storage
-----------------------------------------------

.. code-block::

   {
       "notification_items": [
           {
               "detail": {
                   "resource": {
                       "id": "ea05ef41-8bd6-4a9c-af39-244e1ec448eb",
                       "name": "as-group-test",
                       "provider": "as",
                       "type": "scalingGroups",
                       "checksum": "",
                       "region_id": "eu-de",
                       "project_id": "068d54ceca00d5302f70c00aaf6a471c",
                       "project_name": "test",
                       "ep_id": "0",
                       "ep_name": "default"
                   },
                   "resource_id": "ea05ef41-8bd6-4a9c-af39-244e1ec448eb",
                   "resource_type": "as.scalingGroups",
                   "event_type": "DELETE",
                   "capture_time": "2020-12-08T09:30:27.158Z"
               },
               "notification_type": "ResourceChanged",
               "notification_creation_time": "2020-12-08T09:30:27.272Z",
               "domain_id": "059b5c937100d3e40ff0c00a7675a0a0"
           }
       ]
   }
